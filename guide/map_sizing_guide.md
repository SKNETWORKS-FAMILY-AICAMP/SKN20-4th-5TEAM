# 🗺️ 지도 영역 크기 조절 가이드

이 문서는 대피소 안내 챗봇 서비스의 지도 영역 크기를 조정하는 방법에 대해 설명합니다. 본 서비스는 **Tailwind CSS**를 기반으로 레이아웃이 설계되어 있어, HTML 파일의 클래스 수정만으로 간편하게 크기를 변경할 수 있습니다.

---

## 1. 데스크톱 화면 비율 조정 (좌우 분할)

현재 화면은 왼쪽의 **지도 영역(Map)**과 오른쪽의 **채팅 영역(Chat)**으로 나뉘어 있습니다. 이 비율은 `frontend/templates/shelter.html` 파일의 `flex` 속성을 통해 조절합니다.

### 관련 코드 위치
`shelter.html` 파일의 약 26~107라인 부근:

```html
<!-- 메인 컨테이너 -->
<div class="flex flex-col md:flex-row ...">

    <!-- 왼쪽 영역 (지도 + 로드뷰) -->
    <div class="... md:flex-[7] ..."> 
        ...
    </div>

    <!-- 오른쪽 영역 (채팅) -->
    <div class="... md:flex-[3] ...">
        ...
    </div>

</div>
```

### 수정 방법
- **`md:flex-[7]`**과 **`md:flex-[3]`**의 숫자를 변경하여 비율을 맞춥니다.
- **예시: 6:4 비율로 변경하고 싶을 때**
    - 왼쪽 영역: `md:flex-[6]`
    - 오른쪽 영역: `md:flex-[4]`
- **예시: 지도를 더 넓게 (8:2) 쓰고 싶을 때**
    - 왼쪽 영역: `md:flex-[8]`
    - 오른쪽 영역: `md:flex-[2]`

---

## 2. 지도와 로드뷰의 수직 비율 조정

지도를 클릭하여 로드뷰(파노라마)가 나타날 때, 지도와 로드뷰가 위아래로 나누어 표시됩니다. 이 비율은 JavaScript 파일에서 동적으로 제어합니다.

### 관련 코드 위치
`frontend/static/js/shelter.js` 파일의 `showPanorama` 함수:

```javascript
function showPanorama() {
    ...
    if (mapDiv && panoContainer) {
        // panoContainer(로드뷰)의 높이를 50%로 설정
        panoContainer.style.height = '50%'; 
        ...
    }
}
```

### 수정 방법
- `panoContainer.style.height = '50%';` 부분의 백분율을 수정합니다.
- 만약 로드뷰를 더 작게 보고 싶다면 `'30%'` 등으로 수정할 수 있습니다. 로드뷰가 커지면 상대적으로 지도 영역은 줄어듭니다.

---

## 3. 전체 레이아웃의 여백(Padding) 조정

전체 서비스 화면이 브라우저 끝에 붙지 않고 여백이 있는 이유는 `body` 태그의 패딩 설정 때문입니다.

### 관련 코드 위치
`shelter.html` 파일의 `<body>` 태그:

```html
<body class="... p-4 md:p-8 md:px-[5%]">
```

### 수정 방법
- **`md:p-8`**: 화면 전체의 상하좌우 여백입니다. 숫자를 줄이면 화면이 더 꽉 차게 보입니다.
- **`md:px-[5%]`**: 좌우 여백을 화면 너비의 5%만큼 줍니다. 이 부분을 삭제하거나 값을 변경하여 전체적인 콘텐츠 가로폭을 넓힐 수 있습니다.

---

## 4. 출발/도착 지점 아이콘 크기 조정

길찾기 경로가 표시될 때 나타나는 출발지(**S**)와 도착지(**E**) 아이콘의 크기는 JavaScript 내의 인라인 스타일을 통해 조절합니다.

### 관련 코드 위치
`frontend/static/js/shelter.js` 파일의 `drawRoute` 함수 내부 (약 847~861라인):

```javascript
// 출발 마커 (S)
const startMarker = new kakao.maps.CustomOverlay({
    content: '<div style="... font-size:28px; padding:10px 22px; ...">S</div>',
    ...
});

// 도착 마커 (E)
const endMarker = new kakao.maps.CustomOverlay({
    content: '<div style="... font-size:28px; padding:10px 22px; ...">E</div>',
    ...
});
```

### 수정 방법
- **`font-size:28px`**: 글자(S, E)의 크기입니다. 이 값을 키우면 아이콘 내의 글자가 커집니다.
- **`padding:10px 22px`**: 아이콘 내부의 여백입니다. 이 값을 키우면 아이콘 전체 원의 크기가 커집니다. (예: `15px 30px`으로 변경 시 더 거대한 아이콘이 됨)
- **`border-radius:25px`**: 아이콘을 둥글게 만드는 속성입니다. 패딩을 크게 키웠다면 이 값도 같이 키워야 예쁜 원형이 유지됩니다.
- **`opacity: 0.85;`**: 투명도 설정입니다. `0.0`(완전 투명)에서 `1.0`(불투명) 사이의 값을 사용합니다. 지도의 지명을 가리지 않도록 적절히 조절할 수 있습니다.

---

## 5. 모바일 화면에서의 크기

모바일에서는 `flex-col` 설정에 의해 지도와 채팅창이 **위아래**로 배치됩니다.

- 지도는 `flex-1` 클래스에 의해 상단 헤더를 제외한 남은 공간을 차지하도록 설정되어 있습니다.
- 모바일에서 지도의 최소 높이를 보장하고 싶다면, 지도 컨테이너에 `min-h-[300px]`와 같은 클래스를 추가할 수 있습니다.

---

> [!TIP]
> **반드시 알아두세요!**
> 레이아웃 크기를 변경한 후에는 Kakao 지도가 변경된 크기를 인식할 수 있도록 `map.relayout()` 함수가 호출되어야 합니다. 현재 `shelter.js`에는 애니메이션 종료 후 자동으로 호출되도록 구현되어 있습니다.
